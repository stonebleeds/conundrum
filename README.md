# conundrum
A minor mocking of the enigma machine, set in the 2020s

This is the updated version of something I slapped together to try to keep my sanity during some weird times. I tried to update the enigma machine to 256 characters instead of 26, 256 rotors instead of the handful available, and the possibility of a character to encode to itself.

I designed it to take input data from stdin and write the resulting data directly to stdout. (The latter part of this I realize I've done very poorly. Please have mercy on me.)

In main.py there's a comment on exactly how to put in settings, but it looks like this:
### ./main.py 0x89AB 0xCDEF 0x3030

All arguments should be 16-bit hexadecimal numbers, every argument of which (except for the last) correspond to a wheel number and a position on that wheel. The last hexadecimal number is the position on the "big wheel" -- a compromise between designing a "reflector" from the original enigma design and preventing a certain repeating byte bug. The big wheel has exactly 65,536 (or 0x0 through 0xFFFF) positions. In the above example, the arguments are setting up conundrum to start with wheels 0x89 and 0xCD, with positions 0xAB and 0xEF respectively, and position 0x3030 on the big wheel.

There are 256 of such wheels defined in precon.py, wheels 0x00 through 0xFF. (I will try to keep these wheels the same for the time being from version to version. No promises.) Each wheel has 256 positions (again, 0x00 through 0xFF).

Now, as far as which settings to use, well, that's up to you.

Upon receipt of each byte, conundrum will take the value of that byte, XOR it in succession with each of the bytes in the positions on the wheels (including the big wheel), then send it (eventually) out to stdout. It will then increment the positions on the wheels (referred to in the code as a "cassette"). The big wheel position is incremented by itself (again, as a compromise to prevent a repeating byte bug).

So in the above example, after the first byte is XORd and moved out, the position is incremented +1 from 0xABEF to 0xABF0, the big wheel position is incremented to 0x3031, and the same calculation is made with the next byte. The intended behavior is for the position bytes to roll over from the maximum value (0xFFFF) to 0x0.

Many more 16-bit numbers can be included. I have not tested the limit beyond what the bash character limit on commands is (it's allegedly 4096 by the way). The following worked as a test of the limit:

# echo e | ./main.py 0x97bc 0xe9d0 0xb30a 0xa8dd 0xce6a 0x6f47 0x478a 0x45fc 0x7318 0xab12 0xe0f5 0xde3c 0x3f2e 0xea38 0x2a37 0xf95e 0x5cf2 0x0726 0xf181 0x7a60 0xd97b 0x6334 0x299f 0x14bf 0xdf22 0xdd98 0xda12 0xfdc8 0x9c5f 0x5455 0x6acd 0xe20c 0x0f7a 0xaea5 0x06ec 0xfc48 0x5cd9 0x92da 0x9e41 0x393c 0xbbc9 0x3f77 0x5fd8 0xba80 0x2768 0x042c 0x37b4 0x59a2 0xc553 0xf45a 0xd5b6 0xb20e 0x4184 0xcc60 0xde81 0x8474 0x07db 0x1b77 0xddfb 0x33d0 0xaf5d 0x4779 0x7f54 0x363a 0x17c7 0xae10 0xd560 0xcee5 0x408b 0x717b 0x22a2 0x7ccf 0x9cf6 0xc862 0x96bb 0x510c 0x77c9 0x78cb 0xdac4 0x1da8 0x4050 0xf05f 0x37a1 0x8b40 0xe7ef 0xb0a8 0x09a0 0x9d78 0xc3d4 0xbc85 0xdaf1 0x6500 0xe5c4 0x67a1 0x35d4 0xb185 0xf265 0xa200 0x960b 0x1f64 0xadbb 0xb745 0x82cc 0x55a2 0x832f 0x19dc 0x4844 0x3441 0x1c03 0x8dec 0xc702 0x2fd4 0x989d 0x30bd 0x809c 0x92c8 0xc917 0x5466 0xb461 0xa1dd 0x05f5 0x45cf 0x88a1 0xe2b7 0x8759 0xba0e 0xcb82 0x7458 0xb374 0x79a0 0x37b2 0xf10c 0x1857 0x4635 0x40be 0x62ea 0xd20b 0xa7bd 0xbcc7 0x4395 0x91b5 0x1da4 0xe256 0xd4bd 0x77c8 0x9497 0x1a95 0xc27f 0x8d4b 0xd2c0 0x3549 0x05fa 0x33dc 0xce55 0xb0e9 0x2579 0x2914 0x7194 0x5ba4 0xa0ea 0x60ae 0x7755 0xb39b 0x76b3 0x0db7 0x9062 0x41b8 0x3ba7 0x2ac6 0x0d7c 0x4dec 0xe317 0xe4ba 0x7018 0xa5c6 0xe147 0x004a 0xf6b6 0x8257 0xe025 0x6495 0xbcb6 0x522e 0x4024 0xd62c 0x7e9e 0x1c82 0x49b4 0x76a9 0x5bcc 0xc02e 0x26df 0x84c9 0xe3de 0x5d4d 0x190d 0xaf72 0xf349 0xad77 0x1242 0x2898 0x561d 0x7674 0x2977 0xcf1a 0x2cae 0x57f1 0x59d3 0xedbf 0x4f73 0x4ccb 0xe481 0xd851 0x7644 0x3f77 0x35e9 0x5960 0xda4f 0x8965 0x5290 0x3ade 0x0ec1 0x4c6b 0x9f6e 0xc8b4 0x1ac8 0xaed4 0xf6cc 0x755f 0x9406 0x1dc3 0x148f 0x8c9c 0xc51b 0xc44b 0xf383 0xcaec 0x0013 0x87d1 0x2daf 0x98ef 0x719d 0x9aa8 0x9d9f 0xa1a5 0x60c8 0x921b 0xbc5b 0x666e 0x690d 0xc83a 0x5f6b 0xba34 0x109f 0xdc0b 0x08b3 0x7afb 0xa5d4 0x89ee 0xd9f2 0xd8d8 0x81cb 0x581f 0xbb07 0x9f51 0x1327 0xaffc 0x3e81 0x3d35 0xf4e3 0x3bdd 0x057a 0xd507 0x3c92 0xf783 0x0f92 0xf70b 0xd872 0x6714 0xfcb8 0x6ff7 0x6e97 0xcd1b 0x951e 0xef93 0x04df 0x6bd8 0x7db9 0xf215 0x971e 0x430e 0xaedf 0x07ff 0x68fd 0xf1e9 0x70ba 0xa4b8 0x5f4d 0x2aaa 0x86ea 0x08c0 0xba65 0xe567 0x126f 0xc956 0x0ac9 0x6206 0x596b 0x6fab 0x1b37 0x00d2 0x671d 0x7694 0x437c 0x3cca 0x14b4 0x5abb 0xee68 0x5a01 0x70ba 0x1595 0xe4c9 0x462b 0x31cc 0x399a 0x8b9b 0x0444 0x053f 0x53f7 0x4729 0x9a7e 0xc756 0x7f08 0x7480 0x7d8f 0xaba4 0x6c13 0x7df5 0x8e58 0x771f 0x72bf 0x1e22 0x0517 0x5fd1 0x7864 0xadb2 0xe7b5 0x21f8 0x0c44 0x3b4d 0x8e02 0x197c 0xc5fd 0xd3d5 0x046e 0xf2dd 0xa0ed 0x9f68 0x69ab 0xad2e 0x1eee 0x46f0 0x6f97 0xc41f 0x92ee 0x0391 0xedff 0x5cfa 0xcb3a 0xf136 0x27e8 0xc6ad 0x760e 0xc107 0xc1c6 0xcf5c 0x189a 0x0ee4 0xe3f7 0x12b3 0x39d9 0x86be 0x8fc3 0x183a 0x609b 0x0ca9 0xa8ef 0x2bf3 0xad58 0x4d4a 0xf133 0xc9c2 0x1fd1 0x904a 0x096b 0xf6a7 0x82ac 0x28fe 0xfcbd 0x01c8 0x3638 0x838b 0xbc73 0x734d 0x9d5d 0x4f0a 0x59b8 0x6450 0x62ad 0xb019 0x7b2b 0x9a01 0x304e 0xf164 0x5428 0xcc14 0xbe43 0x29fc 0x0f98 0x350f 0xaf93 0xd68b 0x159e 0x4a21 0x8e10 0xefd4 0x1a61 0xd5a5 0xc8ad 0xc644 0xc76f 0xdf0f 0x36a4 0xa74d 0xc655 0xe76b 0x3ee4 0x1728 0xb43e 0xaaca 0xe457 0xf2b5 0x15ad 0x8e96 0xbc3a 0x0f37 0x8bc8 0x18de 0x4f4d 0x9046 0x38ca 0x7ce5 0x3fe9 0x09b5 0x878f 0xe2ad 0x8db1 0xdb94 0x5721 0xf18f 0x55b6 0x56f0 0x279d 0x7068 0x921b 0x52d1 0x9e7f 0xa899 0x2a76 0x59f5 0xd89c 0x8b39 0xd34d 0x244d 0x86cb 0x651c 0x6075 0x9baf 0xa8ce 0xaca3 0x58f1 0x2bfc 0x3739 0x4dd7 0xe663 0x7c6f 0x0d54 0x26aa 0xf8dd 0x4e45 0x04cf 0x9967 0xbd5e 0xe244 0xc2fd 0x5b40 0xb260 0xf608 0xc7ea 0x46df 0x0e9a 0x9d9d 0xc0e2 0x0b60 0xd202 0x5987 0xbefd 0x2a09 0xc1e8 0xf2a4 0xcad7 0x9f83 0x4473 0x246f 0xbcc2 0x0270 0xcaed 0x4812 0x9bce 0xff05 0x1d03 0x31b7 0xb342 0xab5b 0x04a9 0xccfa 0x8937 0x2f04 0x1f1a 0x9ae5 0xd325 0xebc8 0x9c54 0xcf9e 0xc6fb 0x85c4 0x3bfc 0x8ae3 0x0c62 0xe281 0x7e79 0x2f92 0xb4e3 0xff41 0x022d 0x8391 0xf25a 0x24a7 0x6b5d 0xc277 0x982e 0x7cdb 0x843d 0x8c7f 0x8559 0xabd7 0x2648 0xb5fd 0x7021 0x9991 0x87cb 0x2d59 0xa61d 0xde46 0xbc26 0x0bd7 0xbcbe 0x592d 0x9de0 0xd99d 0x6672 0xb810 0x697a 0xd977 0x9b84 0xe325 0x9b26 0xfdab 0x289a 0x1111 | hexdump -C

Enough of my rambling...